

### 一、登录注册

**1.手机号校验**

接口功能

> 校验注册手机号的唯一性

url

> user/check

请求方式

> get

请求参数

> | 参数  | 必选 |  类型  | 说明 |
> | :---: | :--: | :----: | :--: |
> | phone | true | string |      |

返回结果

> 状态码

> | 成功 |        失败         |
> | :--: | :-----------------: |
> | 200  | 400（手机号已存在） |



**2.发送验证码**

接口功能

> 后台发送验证码

url

> code/send

请求方式

> post

请求参数

> | 参数  | 必选 |  类型  | 说明 |
> | :---: | :--: | :----: | :--: |
> | phone | true | string |      |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |

> 返回参数
>
> | 参数 | 类型   | 说明 |
> | ---- | ------ | ---- |
> | code | string |      |



**3.注册**

接口功能

	>注册用户

url

	> 	user/register

请求方式

	>post

请求参数

|   参数   | 必选 |  类型  |  说明  |
| :------: | :--: | :----: | :----: |
|  photo   | true | string |        |
|   code   | true | string | 验证码 |
| password | true | string |        |

返回结果

> 状态码
>
> | 成功 |       失败        |
> | :--: | :---------------: |
> | 201  | 400（验证码错误） |



**4.登录校验**

接口功能

> 检验是否已经登录

url

> user/verify

请求方式

> get

请求参数

> | 参数 | 必选 | 类型 | 说明 |
> | :--: | :--: | :--: | :--: |
> |  无  |      |      |      |

返回结果

> 状态码
>
> | 成功 |     失败      |
> | :--: | :-----------: |
> | 200  | 401（未登录） |



**5.短信登录**

接口功能

> 验证码登录，服务端发送cookie，做无状态登录

url

> user/login

请求方式

> get

请求参数

> | 参数  | 必选 |  类型  | 说明 |
> | :---: | :--: | :----: | :--: |
> | phone | true | string |      |
> | code  | true | string |      |

返回结果

> 状态码
>
> | 成功 |       失败        |
> | :--: | :---------------: |
> | 200  | 404（手机号错误） |
> |      | 400（验证码错误） |



**6.密码登陆**

接口功能

> 密码登录，服务端发送cookie，做无状态登录

url

> user/login

请求方式

> post    

请求参数

> |   参数   | 必选 |  类型  | 说明 |
> | :------: | :--: | :----: | :--: |
> |  phone   | true | string |      |
> | password | true | string |      |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 404  |



**7.忘记密码校验**

接口功能

> 验证码校验

url

> code/check

请求方式

> get

请求参数

> | 参数  | 必选 |  类型  | 说明 |
> | :---: | :--: | :----: | :--: |
> | phone | true | string |      |
> | code  | true | string |      |

返回结果

> 状态码
>
> | 成功 |      失败       |
> | :--: | :-------------: |
> | 200  | 400(验证码错误) |



**8.重置密码**

接口功能

> 验证成功后设置新密码

url

> user/

请求方式

> put

请求参数

> |   参数   | 必选 |  类型  | 说明 |
> | :------: | :--: | :----: | :--: |
> |  phone   | true | string |      |
> | password | true | string |      |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |



### 二、个人信息

**9.查看个人信息**

接口功能

> 查看个人信息

url

> user/detail

请求方式

> get

请求参数

> | 参数 | 必选 | 类型 | 说明 |
> | :--: | :--: | :--: | :--: |
> |  无  |      |      |      |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |

> 返回参数
>
> | 类型类型 | 参数 | 说明 |
> | :------: | :--: | :--: |
> |   如下   |      |      |

返回示例

```
{
“username”：“张三”，
“realname”：“苗爷”，
“phone”：“1234456777”，
“birth”：“2000-10-01”，
“college”:“网络空间安全学院”，
“profession”:“信息安全”，
“email”：“1234567@qq.com”，
        “hobby”：“搬砖”
}
```



**10.修改个人信息**

接口功能

> 保存个人信息

url

> user/detail

请求方式

> put

请求格式

	json

请求参数

> |    参数    | 必选  |  类型  |
> | :--------: | :---: | :----: |
> |  username  | false | string |
> |  realname  | false | string |
> |   phone    | false | string |
> |   birth    | false | string |
> |  college   | false | string |
> | profession | false | string |
> |   email    | false | string |
> |   hobby    | false | string |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |



### 三、论坛

**11.帖子列表**

接口功能

> 获取帖子列表

url

> article/list

请求方式

> get

请求参数

> | 参数  | 必选  |  类型  |                   说明                   |
> | :---: | :---: | :----: | :--------------------------------------: |
> | type  | false |  int   | 帖子类型（1 数模论文（默认）2 技术论文） |
> | ishot | false |  bool  |   按浏览量对全部帖子排序（默认false）    |
> | page  | false |  int   |             当前页（默认1）              |
> |  row  | false |  int   |         每页显示的行数（默认7）          |
> |  key  | false | string |               搜索的关键字               |
> | desc  | false |  bool  |        是否按时间降序（默认true）        |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |

返回参数

> |   参数    | 类型 |    说明    |
> | :-------: | :--: | :--------: |
> |   click   | int  |   浏览量   |
> |  comment  | int  |   评论数   |
> | totalPage | int  | 总共多少页 |

返回示例

	{
	  “articles”：[
		{	
		   “id”：1
		  “title”：“标题”
		  “author”：“作者”
		  “create”：“2019-01-01 23:59”
		   “click”：120
		   “comment”：12
		}，
		{	
		   “id”：2
		  “title”：“标题2”
		  “author”：“作者2”
		  “create”：“2019-01-01 20:59”
		   “click”：121
		   “comment”：12
		}，
		{	
		   “id”：3
		  “title”：“标题3”
		  “author”：“作者3”
		  “create”：“2019-01-01 22:59”
		   “click”：122
		   “comment”：12
		}
	  ]，
	
	totalPage”:  26,
	
	  “sum”：{
	  		“today”：150，
			“yesterday”：160，
			“total”：1600
	  }
	}



**12.排行列表**

接口功能

> 获取全部帖子排行信息

url

> article/ranklist

请求方式

> get

请求参数

> | 参数 | 必选  |  类型  |       说明       |
> | :--: | :---: | :----: | :--------------: |
> | date | false | string | 日期（默认今天） |

返回结果

> 状态码
>
> | 失败失败 | 成功 |
> | :------: | :--: |
> |   500    | 200  |

> 返回参数
>
> |  参数  | 说明 |   类型    |
> | :----: | :--: | :-------: |
> | titles | 标题 | string[ ] |

返回示例

		{
			“titles”：[
					“标题1”，
					“标题2”，
					“标题3”
			]
		}



**13.发帖**

接口功能

> 发布帖子

url

> article

请求方式

> post

请求参数

> |  参数   | 必选 |  类型  |        说明         |
> | :-----: | :--: | :----: | :-----------------: |
> |  type   | true |  int   | 1.数模论文 2.技术文 |
> | content | true | string |        内容         |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |



**14.打开帖子**

接口功能

> 查看某个帖子

url

> article/{id}

请求方式

> get

请求参数

> | 参数 | 必选 | 类型 |  说明  |
> | :--: | :--: | :--: | :----: |
> |  id  | true | int  | 帖子id |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |

> 返回参数
>
> |     参数     |  类型  |    说明    |
> | :----------: | :----: | :--------: |
> |    create    | string |  发布时间  |
> |     like     |  int   | 帖子点赞数 |
> |    clike     |  int   | 评论点赞数 |
> |    rlike     |  int   | 回复点赞数 |
> |   comments   |        |  评论集合  |
> |   replies    |        |  回复集合  |
> | commentCount |  int   | 帖子评论数 |
> |    rcount    |  int   | 评论回复数 |

返回示例

	{
		“creat”：“2019.10.18”，
		“author”：“作者”，
		“click”：“浏览量”，
		“commentCount”：“评论数”，
		“content”：“内容”，
		“like”：“点赞数”，
		“comments”：[
			“评论1”：{
				“content”:“评论内容1”，
				“author”：“评论人1”，
				“create”：“2019-10-30”，
				“clike”：“211”,
				  “rcount”:“21”，
				“replies”: [
						{
							“content”：“回复1”，
							“author”：“回复者1”，
							“rlike”:“1”，
							“create”：“2020-10-20”
						}，
						{
							“content”：“回复2”，
							“author”：“回复者2”，
							“rlike”:“2”，
							“create”：“2020-10-21”
						}，
						{
							“content”：“回复3”，
							“author”：“回复者3”，
							“rlike”:“3”，
							“create”：“2020-10-23”
						}
				]
			}，
			“评论2”：{
				“content”:“评论内容2”，
				“author”：“评论人2”，
				“create”：“2017-10-30”，
				“clike”：“211”,
				  “rcount”:“21”
				“replies”: [
						{
							“content”：“回复4”，
							“author”：“回复者4”，
							“rlike”:“4”，
							“create”：“2020-10-20”
						}，
						{
							“content”：“回复5”，
							“author”：“回复者5”，
							“rlike”:“5”，
							“create”：“2020-10-21”
						}，
						{
							“content”：“回复6”，
							“author”：“回复者6”，
							“rlike”:“6”，
							“create”：“2020-10-23”
						}
				]
			}，
			“评论3”：{
				“content”:“评论内容3”，
				“author”：“评论人3”，
				“create”：“2017-10-30”，
				“clike”：“22”,
			 	  “rcount”:“212”
			    “replies”: [
					    {
							“content”：“回复7”，
							“author”：“回复者7”，
							“rlike”:“17”，
							“create”：“2020-10-20”
						}，
						{
							“content”：“回复8”，
							“author”：“回复者8”，
							“rlike”:“8”，
							“create”：“2020-10-21”
						}，
						{
							“content”：“回复9”，
							“author”：“回复者39”，
							“rlike”:“9”，
							“create”：“2020-10-23”
						}
				]
			}
		]
	}



**15.评论、回复**

接口功能

> 评论、回复

url

> comment

请求方式

> post

请求参数

> |  参数   | 必选  |  类型  |           说明            |
> | :-----: | :---: | :----: | :-----------------------: |
> |  type   | false |  int   |  1.评论（默认）  2.回复   |
> |  toId   | true  |  int   | 1 .articleId  2.commentId |
> | content | true  | string |         评论内容          |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 201  | 500  |



**16.点赞**

接口功能

> 给文章，评论，回复点赞

url

> like/{type}

请求方式

> put

请求参数

> | 参数 | 必选  | 类型 |         说明         |
> | :--: | :---: | :--: | :------------------: |
> | type | false | int  | 1.文章 2.评论 3.回复 |

返回结果

> 状态码
>
> | 成功 | 失败 |
> | :--: | :--: |
> | 200  | 500  |